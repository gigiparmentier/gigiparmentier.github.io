<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Rocket League Countdown</title>
	<meta name="title" content="RL Countdown" />
	<meta name="description" content="GigiParmentier" />
    <link rel="shortcut icon" href="https://static.rocketleaguereplays.com/build/img/icons/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" type="text/css" href="theme.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="jquery.interactive_bg.js"></script>
	<script>
	  $(document).ready(function(){
       $(".bg").interactive_bg();
       $("#btns").interactive_bg({
         strength: 10,
         scale: 1.15,
         contain: false,
         wrapContent: true
       });
		});
		
		$(window).resize(function() {
		  $(".wrapper > .ibg-bg").css({
		    width: $(window).outerWidth(),
		    height: $(window).outerHeight()
		  })
		})
		
	</script>
</head>
<body>
  <div class="wrapper bg" data-ibg-bg="rlmaraduer.jpg">
	  <div class="main">
<script type="text/javascript">
var CDown = function() {
	this.state=0;// if initialized
	this.counts=[];// array holding countdown date objects and id to print to {d:new Date(2013,11,18,18,54,36), id:"countbox1"}
	this.interval=null;// setInterval object
}

CDown.prototype = {
	init: function(){
		this.state=1;
		var self=this;
		this.interval=window.setInterval(function(){self.tick();}, 1000);
	},
	add: function(date,id){
		this.counts.push({d:date,id:id});
		this.tick();
		if(this.state==0) this.init();
	},
	expire: function(idxs){
		for(var x in idxs) {
			this.display(this.counts[idxs[x]], "OUT");
			this.counts.splice(idxs[x], 1);
            document.getElementById("clock").style.backgroundColor = "forestgreen";
            document.getElementById("aclock").onclick="this.href='https://twitter.com/intent/tweet?text=The new Rocket League update is out now !';";
            document.getElementById("aclock").href="https://twitter.com/intent/tweet?text=The new Rocket League update is out now !"; 
		}
	},
	format: function(r){
		var out="";
		if(r.w != 0){out += r.w +" "+((r.w==1)?"week":"weeks")+", ";}
		if(r.d != 0){out += r.d +" "+((r.d==1||r.d==0)?"day":"days")+", ";}
		if(r.h != 0){out += r.h +" "+((r.h==1||r.h==0)?"hour":"hours")+", ";}
		out += r.m +" "+((r.m==1||r.m==0)?"min":"mins")+", ";
		out += r.s +" "+((r.s==1||r.s==0)?"sec":"secs")+", ";

		return out.substr(0,out.length-2);
	},
	math: function(work){
		var	y=w=d=h=m=s=ms=0;

		ms=(""+((work%1000)+1000)).substr(1,3);
		work=Math.floor(work/1000);//kill the "milliseconds" so just secs

		y=Math.floor(work/31536000);//years (no leapyear support)
		w=Math.floor(work/604800);//weeks
		work=work%604800;

		d=Math.floor(work/86400);//days
		work=work%86400;

		h=Math.floor(work/3600);//hours
		work=work%3600;

		m=Math.floor(work/60);//minutes
		work=work%60;

		s=Math.floor(work);//seconds

		return {y:y,w:w,d:d,h:h,m:m,s:s,ms:ms};
	},
	tick: function(){
		var now=(new Date()).getTime(),
			expired=[],cnt=0,amount=0;

		if(this.counts)
		for(var idx=0,n=this.counts.length; idx<n; ++idx){
			cnt=this.counts[idx];
			amount=cnt.d.getTime()-now;//calc milliseconds between dates

			// if time is already past
			if(amount<0){
				expired.push(idx);
			}
			// date is still good
			else{
				this.display(cnt, this.format(this.math(amount)));
			}
		}

		// deal with any expired
		if(expired.length>0) this.expire(expired);

		// if no active counts, stop updating
		if(this.counts.length==0) window.clearTimeout(this.interval);
		
	},
	display: function(cnt,msg){
		document.getElementById(cnt.id).innerHTML=msg;
	}
};

window.onload=function(){
	var cdown = new CDown();
	cdown.add(new Date(2016,5,20,20,0,0), "countbox1");
 
};
</script>



        <center>
            <img src="test.gif" height="250" class="img" style="z-index:50;">
        </center>

        <center>
            <section class="text">    
                <div class="presentation">
                   <p>Time before the next update :<br/>
                </div>

                <div class="clock" id="clock">
                    <a href="#" id="aclock" onclick="this.href='https://twitter.com/intent/tweet?text=only '+document.getElementById('countbox1').innerHTML+' remaining before the next update of Rocket League is out !';">
                    <span class="span" id="aclock"></span><div id="countbox1" class="timer"></div>
                    </a>
                </div>                      

        <br/><br/><br/><br/><br/><br/>    

            </section>
        </center>
    </div>

  </div>
  
  <script>

  	var _gaq=[['_setAccount','UA-11278966-1'],['_trackPageview']]; // Change UA-XXXXX-X to be your site's ID
  	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
  	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  	s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>

    
</body>
</html>