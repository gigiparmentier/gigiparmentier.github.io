<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My kazakh words</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <h1 id="title">My kazakh words</h1>
    <input id="search_bar" type="text" id="search_input" placeholder="Search words..." autofocus>
    <div id="words">
    </div>
    <script>
        $(document).ready(function(){
            //var url = "https://drive.google.com/uc?export=download&id=1Ae5XP-kzPitGzaMWXx_iJGIp_dGZGBwb";
            //var url = "https://googledrive.com/host/1Ae5XP-kzPitGzaMWXx_iJGIp_dGZGBwb";
            var url = "https://gigiparmentier.github.io/kazakh/words.txt";
            $.get(url, function(data) {
                var lines = data.split("\n").reverse();
                var wordsDiv = $("#words");

                $('#search_bar').attr('placeholder', 'Search in ' + lines.length + ' words...');

                lines.forEach(function(line) {
                    var parts = line.split(":");
                    var k_words = parts[0].trim();
                    var e_words = parts[1].trim();
                    var f_words = parts[2].trim();

                    k_words = k_words.replace(/,/g,", ");
                    e_words = e_words.replace(/,/g,", ");
                    f_words = f_words.replace(/,/g,", ");
                    
                    var wordElement = $("<p>").text(k_words + ' : ' + e_words);
                    wordElement.attr('k_words', k_words);
                    wordElement.attr('e_words', e_words);
                    wordElement.attr('f_words', f_words);
                    wordElement.addClass("word");

                    wordsDiv.append(wordElement);
                });
            });
            $("#search_bar").on("input", function() {
                var searchValue = $(this).val().toLowerCase();
                $(".word").each(function() {
                    var kWords = $(this).attr("k_words").toLowerCase();
                    var eWords = $(this).attr("e_words").toLowerCase();
                    var fWords = $(this).attr("f_words").toLowerCase();
                    if (kWords.includes(searchValue) || eWords.includes(searchValue) || fWords.includes(searchValue)) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                });
            });
        });
    </script>
</body>
</html>